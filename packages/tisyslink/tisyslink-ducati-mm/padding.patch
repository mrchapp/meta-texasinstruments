From 21f23969a53466e9bec3e9cb7b886649599584f3 Mon Sep 17 00:00:00 2001
From: Rob Clark <rob@ti.com>
Date: Wed, 2 Dec 2009 22:03:50 -0600
Subject: [PATCH 1/3] add padding fields to force structure size to be same across different compilers and processors

---
 .../src/system/omx_core/omx_core.h                 |    4 ++++
 omx/omx_il_1_x/omx_core/omx_core.h                 |    4 ++++
 2 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/WTSD_DucatiMMSW/framework/domx_linux_sample/src/system/omx_core/omx_core.h b/WTSD_DucatiMMSW/framework/domx_linux_sample/src/system/omx_core/omx_core.h
index b88db59..11690fb 100644
--- a/WTSD_DucatiMMSW/framework/domx_linux_sample/src/system/omx_core/omx_core.h
+++ b/WTSD_DucatiMMSW/framework/domx_linux_sample/src/system/omx_core/omx_core.h
@@ -428,6 +428,8 @@ typedef struct OMX_BUFFERHEADERTYPE
                                      to determine absolute time.  This is an
                                      optional entry and not all components
                                      will update it.*/
+    OMX_U32 __padding1;         /**< padding to force structure size to be same
+                                        across different compilers and processors */
  OMX_TICKS nTimeStamp;          /**< Timestamp corresponding to the sample 
                                      starting at the first logical sample 
                                      boundary in the buffer. Timestamps of 
@@ -440,6 +442,8 @@ typedef struct OMX_BUFFERHEADERTYPE
                                      this buffer */
   OMX_U32 nInputPortIndex;      /**< The index of the input port (if any) using
                                      this buffer */
+    OMX_U32 __padding2;         /**< padding to force structure size to be same
+                                      across different compilers and processors */
 } OMX_BUFFERHEADERTYPE;
 
 /** The OMX_EXTRADATATYPE enumeration is used to define the 
diff --git a/WTSD_DucatiMMSW/omx/omx_il_1_x/omx_core/omx_core.h b/WTSD_DucatiMMSW/omx/omx_il_1_x/omx_core/omx_core.h
index 8c6ae49..ee5dfa5 100644
--- a/WTSD_DucatiMMSW/omx/omx_il_1_x/omx_core/omx_core.h
+++ b/WTSD_DucatiMMSW/omx/omx_il_1_x/omx_core/omx_core.h
@@ -428,6 +428,8 @@ typedef struct OMX_BUFFERHEADERTYPE
                                      to determine absolute time.  This is an
                                      optional entry and not all components
                                      will update it.*/
+    OMX_U32 __padding1;         /**< padding to force structure size to be same
+                                        across different compilers and processors */
  OMX_TICKS nTimeStamp;          /**< Timestamp corresponding to the sample 
                                      starting at the first logical sample 
                                      boundary in the buffer. Timestamps of 
@@ -440,6 +442,8 @@ typedef struct OMX_BUFFERHEADERTYPE
                                      this buffer */
   OMX_U32 nInputPortIndex;      /**< The index of the input port (if any) using
                                      this buffer */
+    OMX_U32 __padding2;         /**< padding to force structure size to be same
+                                      across different compilers and processors */
 } OMX_BUFFERHEADERTYPE;
 
 /** The OMX_EXTRADATATYPE enumeration is used to define the 
-- 
1.6.3.2

